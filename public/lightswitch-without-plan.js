var Ee=Object.defineProperty;var Te=(t,e,n)=>e in t?Ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ne=(t,e,n)=>(Te(t,typeof e!="symbol"?e+"":e,n),n);const C="https://salty-gorge-39039-9a3570152e5c.herokuapp.com/api/v1";async function Fe(t,e){return(await fetch(`${C}/auth?client_id=${t}&user_id=${e}`,{method:"POST"})).json()}async function je(t,e){return await fetch(`${C}/identify?user_id=${e}`,{method:"POST",headers:{Authorization:`Bearer ${t}`}}).then(n=>n.json())}async function Le(t){return await fetch(`${C}/subscription`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>e.json())}async function He(t){return await fetch(`${C}/subscriptions?test_mode=true`,{method:"POST",headers:{Authorization:`Bearer ${t}`}}).then(e=>e.json())}async function Ae(t,e){return await fetch(`${C}/access_status?feature_tier=${e.feature_tier}&test_mode_approve=${e.test_mode_approve}`,{headers:{Authorization:`Bearer ${t}`}}).then(n=>n.json())}async function De(t){return await fetch(`${C}/confirm_renewal`,{method:"POST",headers:{Authorization:`Bearer ${t}`}}).then(e=>e.json())}var R,m,ge,$,ie,be,I,T={},xe=[],qe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function S(t,e){for(var n in e)t[n]=e[n];return t}function Ne(t){var e=t.parentNode;e&&e.removeChild(t)}function Me(t,e,n){var i,_,o,c={};for(o in e)o=="key"?i=e[o]:o=="ref"?_=e[o]:c[o]=e[o];if(arguments.length>2&&(c.children=arguments.length>3?R.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)c[o]===void 0&&(c[o]=t.defaultProps[o]);return q(t,c,i,_,null)}function q(t,e,n,i,_){var o={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:_??++ge,__i:-1,__u:0};return _==null&&m.vnode!=null&&m.vnode(o),o}function V(t){return t.children}function M(t,e){this.props=t,this.context=e}function P(t,e){if(e==null)return t.__?P(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?P(t):null}function we(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return we(t)}}function re(t){(!t.__d&&(t.__d=!0)&&$.push(t)&&!B.__r++||ie!==m.debounceRendering)&&((ie=m.debounceRendering)||be)(B)}function B(){var t,e,n,i,_,o,c,a,d;for($.sort(I);t=$.shift();)t.__d&&(e=$.length,i=void 0,o=(_=(n=t).__v).__e,a=[],d=[],(c=n.__P)&&((i=S({},_)).__v=_.__v+1,m.vnode&&m.vnode(i),Q(c,i,_,n.__n,c.ownerSVGElement!==void 0,32&_.__u?[o]:null,a,o??P(_),!!(32&_.__u),d),i.__v=_.__v,i.__.__k[i.__i]=i,$e(a,i,d),i.__e!=o&&we(i)),$.length>e&&$.sort(I));B.__r=0}function ke(t,e,n,i,_,o,c,a,d,s,f){var l,h,u,v,N,b=i&&i.__k||xe,p=e.length;for(n.__d=d,Ue(n,e,b),d=n.__d,l=0;l<p;l++)(u=n.__k[l])!=null&&typeof u!="boolean"&&typeof u!="function"&&(h=u.__i===-1?T:b[u.__i]||T,u.__i=l,Q(t,u,h,_,o,c,a,d,s,f),v=u.__e,u.ref&&h.ref!=u.ref&&(h.ref&&Z(h.ref,null,u),f.push(u.ref,u.__c||v,u)),N==null&&v!=null&&(N=v),65536&u.__u||h.__k===u.__k?(v||h.__e!=d||(d=P(h)),d=Se(u,d,t)):typeof u.type=="function"&&u.__d!==void 0?d=u.__d:v&&(d=v.nextSibling),u.__d=void 0,u.__u&=-196609);n.__d=d,n.__e=N}function Ue(t,e,n){var i,_,o,c,a,d=e.length,s=n.length,f=s,l=0;for(t.__k=[],i=0;i<d;i++)c=i+l,(_=t.__k[i]=(_=e[i])==null||typeof _=="boolean"||typeof _=="function"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"||_.constructor==String?q(null,_,null,null,null):J(_)?q(V,{children:_},null,null,null):_.constructor===void 0&&_.__b>0?q(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)!=null?(_.__=t,_.__b=t.__b+1,a=Oe(_,n,c,f),_.__i=a,o=null,a!==-1&&(f--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof _.type!="function"&&(_.__u|=65536)):a!==c&&(a===c+1?l++:a>c?f>d-c?l+=a-c:l--:a<c?a==c-1&&(l=a-c):l=0,a!==i+l&&(_.__u|=65536))):(o=n[c])&&o.key==null&&o.__e&&!(131072&o.__u)&&(o.__e==t.__d&&(t.__d=P(o)),X(o,o,!1),n[c]=null,f--);if(f)for(i=0;i<s;i++)(o=n[i])!=null&&!(131072&o.__u)&&(o.__e==t.__d&&(t.__d=P(o)),X(o,o))}function Se(t,e,n){var i,_;if(typeof t.type=="function"){for(i=t.__k,_=0;i&&_<i.length;_++)i[_]&&(i[_].__=t,e=Se(i[_],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,i){var _=t.key,o=t.type,c=n-1,a=n+1,d=e[n];if(d===null||d&&_==d.key&&o===d.type&&!(131072&d.__u))return n;if(i>(d!=null&&!(131072&d.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((d=e[c])&&!(131072&d.__u)&&_==d.key&&o===d.type)return c;c--}if(a<e.length){if((d=e[a])&&!(131072&d.__u)&&_==d.key&&o===d.type)return a;a++}}return-1}function le(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||qe.test(e)?n:n+"px"}function D(t,e,n,i,_){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||le(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||le(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?i?n.u=i.u:(n.u=Date.now(),t.addEventListener(e,o?oe:_e,o)):t.removeEventListener(e,o?oe:_e,o);else{if(_)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function _e(t){if(this.l){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(m.event?m.event(t):t)}}function oe(t){if(this.l)return this.l[t.type+!0](m.event?m.event(t):t)}function Q(t,e,n,i,_,o,c,a,d,s){var f,l,h,u,v,N,b,p,x,k,L,E,te,H,W,w=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(d=!!(32&n.__u),o=[a=e.__e=n.__e]),(f=m.__b)&&f(e);e:if(typeof w=="function")try{if(p=e.props,x=(f=w.contextType)&&i[f.__c],k=f?x?x.props.value:f.__:i,n.__c?b=(l=e.__c=n.__c).__=l.__E:("prototype"in w&&w.prototype.render?e.__c=l=new w(p,k):(e.__c=l=new M(p,k),l.constructor=w,l.render=Re),x&&x.sub(l),l.props=p,l.state||(l.state={}),l.context=k,l.__n=i,h=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),w.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=S({},l.__s)),S(l.__s,w.getDerivedStateFromProps(p,l.__s))),u=l.props,v=l.state,l.__v=e,h)w.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(w.getDerivedStateFromProps==null&&p!==u&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(p,k),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(p,l.__s,k)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(l.props=p,l.state=l.__s,l.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(A){A&&(A.__=e)}),L=0;L<l._sb.length;L++)l.__h.push(l._sb[L]);l._sb=[],l.__h.length&&c.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(p,l.__s,k),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(u,v,N)})}if(l.context=k,l.props=p,l.__P=t,l.__e=!1,E=m.__r,te=0,"prototype"in w&&w.prototype.render){for(l.state=l.__s,l.__d=!1,E&&E(e),f=l.render(l.props,l.state,l.context),H=0;H<l._sb.length;H++)l.__h.push(l._sb[H]);l._sb=[]}else do l.__d=!1,E&&E(e),f=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++te<25);l.state=l.__s,l.getChildContext!=null&&(i=S(S({},i),l.getChildContext())),h||l.getSnapshotBeforeUpdate==null||(N=l.getSnapshotBeforeUpdate(u,v)),ke(t,J(W=f!=null&&f.type===V&&f.key==null?f.props.children:f)?W:[W],e,n,i,_,o,c,a,d,s),l.base=e.__e,e.__u&=-161,l.__h.length&&c.push(l),b&&(l.__E=l.__=null)}catch(A){e.__v=null,d||o!=null?(e.__e=a,e.__u|=d?160:32,o[o.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),m.__e(A,e,n)}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Be(n.__e,e,n,i,_,o,c,d,s);(f=m.diffed)&&f(e)}function $e(t,e,n){e.__d=void 0;for(var i=0;i<n.length;i++)Z(n[i],n[++i],n[++i]);m.__c&&m.__c(e,t),t.some(function(_){try{t=_.__h,_.__h=[],t.some(function(o){o.call(_)})}catch(o){m.__e(o,_.__v)}})}function Be(t,e,n,i,_,o,c,a,d){var s,f,l,h,u,v,N,b=n.props,p=e.props,x=e.type;if(x==="svg"&&(_=!0),o!=null){for(s=0;s<o.length;s++)if((u=o[s])&&"setAttribute"in u==!!x&&(x?u.localName===x:u.nodeType===3)){t=u,o[s]=null;break}}if(t==null){if(x===null)return document.createTextNode(p);t=_?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,p.is&&p),o=null,a=!1}if(x===null)b===p||a&&t.data===p||(t.data=p);else{if(o=o&&R.call(t.childNodes),b=n.props||T,!a&&o!=null)for(b={},s=0;s<t.attributes.length;s++)b[(u=t.attributes[s]).name]=u.value;for(s in b)u=b[s],s=="children"||(s=="dangerouslySetInnerHTML"?l=u:s==="key"||s in p||D(t,s,null,u,_));for(s in p)u=p[s],s=="children"?h=u:s=="dangerouslySetInnerHTML"?f=u:s=="value"?v=u:s=="checked"?N=u:s==="key"||a&&typeof u!="function"||b[s]===u||D(t,s,u,b[s],_);if(f)a||l&&(f.__html===l.__html||f.__html===t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(l&&(t.innerHTML=""),ke(t,J(h)?h:[h],e,n,i,_&&x!=="foreignObject",o,c,o?o[0]:n.__k&&P(n,0),a,d),o!=null)for(s=o.length;s--;)o[s]!=null&&Ne(o[s]);a||(s="value",v!==void 0&&(v!==t[s]||x==="progress"&&!v||x==="option"&&v!==b[s])&&D(t,s,v,b[s],!1),s="checked",N!==void 0&&N!==t[s]&&D(t,s,N,b[s],!1))}return t}function Z(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){m.__e(i,n)}}function X(t,e,n){var i,_;if(m.unmount&&m.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||Z(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){m.__e(o,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(_=0;_<i.length;_++)i[_]&&X(i[_],e,n||typeof t.type!="function");n||t.__e==null||Ne(t.__e),t.__=t.__e=t.__d=void 0}function Re(t,e,n){return this.constructor(t,n)}function se(t,e,n){var i,_,o,c;m.__&&m.__(t,e),_=(i=typeof n=="function")?null:n&&n.__k||e.__k,o=[],c=[],Q(e,t=(!i&&n||e).__k=Me(V,null,[t]),_||T,T,e.ownerSVGElement!==void 0,!i&&n?[n]:_?null:e.firstChild?R.call(e.childNodes):null,o,!i&&n?n:_?_.__e:e.firstChild,i,c),$e(o,t,c)}R=xe.slice,m={__e:function(t,e,n,i){for(var _,o,c;e=e.__;)if((_=e.__c)&&!_.__)try{if((o=_.constructor)&&o.getDerivedStateFromError!=null&&(_.setState(o.getDerivedStateFromError(t)),c=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(t,i||{}),c=_.__d),c)return _.__E=_}catch(a){t=a}throw t}},ge=0,M.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=S({},this.state),typeof t=="function"&&(t=t(S({},n),this.props)),t&&S(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),re(this))},M.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),re(this))},M.prototype.render=V,$=[],be=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I=function(t,e){return t.__v.__b-e.__v.__b},B.__r=0;var Ve=0;function r(t,e,n,i,_,o){var c,a,d={};for(a in e)a=="ref"?c=e[a]:d[a]=e[a];var s={type:t,props:d,key:n,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ve,__i:-1,__u:0,__source:_,__self:o};if(typeof t=="function"&&(c=t.defaultProps))for(a in c)d[a]===void 0&&(d[a]=c[a]);return m.vnode&&m.vnode(s),s}function F({children:t}){return r("div",{className:"flex justify-center w-full",children:t})}function We(t){return new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}function ze({currentUserSubscription:t}){const{last_payment:e,plan:{name:n,price:i}}=t.subscription,_=We(e);return r(F,{children:r("div",{className:"w-full flex flex-col gap-9",children:r("div",{className:" bg-white p-5 border rounded-lg border-orange-400 py-8",children:r("div",{className:"flex justify-between",children:[r("div",{className:"flex flex-col justify-between gap-2",children:[r("div",{className:"text-xl",children:"You've enrolled in subscribe-as-you-go"}),r("div",{children:["Last Payment Date: ",_]})]}),r("div",{className:"flex flex-col justify-between gap-2",children:[r("div",{className:"text-2xl",children:[n," Plan"]}),r("div",{children:[i," per month"]})]})]})})})})}function j({children:t,className:e,onClick:n}){return r("button",{className:`px-16 py-2 ${e}`,onClick:n,children:t})}function Ie({children:t,setShowModal:e}){return r("div",{style:"z-index: 99;",onClick:()=>e(!1),className:"fixed inset-0 flex justify-center items-center bg-black/20",children:r("div",{onClick:n=>n.stopPropagation(),className:"bg-white rounded-xl shadow p-6 w-3/4 scale-100 opacity-100",children:[r(j,{onClick:()=>e(!1),className:"absolute top-2 right-2 p-1 rounded-lg text-gray-400 bg-white",children:"x"}),r("div",{className:"text-center",children:t})]})})}var G,y,z,ae,Y=0,Pe=[],U=[],g=m,ce=g.__b,de=g.__r,ue=g.diffed,fe=g.__c,he=g.unmount,me=g.__;function Xe(t,e){g.__h&&g.__h(y,t,Y||e),Y=0;var n=y.__H||(y.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:U}),n.__[t]}function ee(t){return Y=1,Ge(Ce,t)}function Ge(t,e,n){var i=Xe(G++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):Ce(void 0,e),function(a){var d=i.__N?i.__N[0]:i.__[0],s=i.t(d,a);d!==s&&(i.__N=[s,i.__[1]],i.__c.setState({}))}],i.__c=y,!y.u)){var _=function(a,d,s){if(!i.__c.__H)return!0;var f=i.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!o||o.call(this,a,d,s);var l=!1;return f.forEach(function(h){if(h.__N){var u=h.__[0];h.__=h.__N,h.__N=void 0,u!==h.__[0]&&(l=!0)}}),!(!l&&i.__c.props===a)&&(!o||o.call(this,a,d,s))};y.u=!0;var o=y.shouldComponentUpdate,c=y.componentWillUpdate;y.componentWillUpdate=function(a,d,s){if(this.__e){var f=o;o=void 0,_(a,d,s),o=f}c&&c.call(this,a,d,s)},y.shouldComponentUpdate=_}return i.__N||i.__}function Ye(){for(var t;t=Pe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(O),t.__H.__h.forEach(K),t.__H.__h=[]}catch(e){t.__H.__h=[],g.__e(e,t.__v)}}g.__b=function(t){y=null,ce&&ce(t)},g.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),me&&me(t,e)},g.__r=function(t){de&&de(t),G=0;var e=(y=t.__c).__H;e&&(z===y?(e.__h=[],y.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=U,n.__N=n.i=void 0})):(e.__h.forEach(O),e.__h.forEach(K),e.__h=[],G=0)),z=y},g.diffed=function(t){ue&&ue(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Pe.push(e)!==1&&ae===g.requestAnimationFrame||((ae=g.requestAnimationFrame)||Ke)(Ye)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==U&&(n.__=n.__V),n.i=void 0,n.__V=U})),z=y=null},g.__c=function(t,e){e.some(function(n){try{n.__h.forEach(O),n.__h=n.__h.filter(function(i){return!i.__||K(i)})}catch(i){e.some(function(_){_.__h&&(_.__h=[])}),e=[],g.__e(i,n.__v)}}),fe&&fe(t,e)},g.unmount=function(t){he&&he(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{O(i)}catch(_){e=_}}),n.__H=void 0,e&&g.__e(e,n.__v))};var pe=typeof requestAnimationFrame=="function";function Ke(t){var e,n=function(){clearTimeout(i),pe&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);pe&&(e=requestAnimationFrame(n))}function O(t){var e=y,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),y=e}function K(t){var e=y;t.__c=t.__(),y=e}function Ce(t,e){return typeof e=="function"?e(t):e}function Je({setShowModal:t}){const[e,n]=ee(!1),i=async()=>{n(!0),await He(window.lightswitch._apiToken),n(!1),t(!1)};return r(F,{children:r("div",{className:"bg-white border-gray-100",children:[r("div",{className:"text-4xl text-center mb-5",children:"Confirm Subscription"}),r("div",{className:"flex justify-between gap-8",children:[r("div",{className:"flex-1",children:[r("div",{className:"bg-gray-100 mb-4 p-12",children:[r("div",{className:"flex justify-between items-center",children:[r("div",{className:"text-4xl",children:"Standard"}),r("div",{className:"flex gap-2",children:[r("div",{className:"text-4xl",children:"$10"}),r("div",{className:"flex flex-col text-sm",children:[r("div",{children:"per"}),r("div",{children:"month"})]})]})]}),r("div",{className:"py-3",children:r("ul",{children:[r("li",{children:"Feature.."}),r("li",{children:"Feature.."}),r("li",{children:"Feature.."}),r("li",{children:"Feature.."})]})}),r("div",{className:"underline text-center",children:"Modify plan"})]}),r("div",{className:"bg-gray-100 p-12",children:[r("div",{children:"Payment details"}),r("div",{children:"Visa (XXXX)"})]})]}),r("div",{className:"flex-1 p-12 bg-white border-2 border-gray-100",children:[r("div",{className:"font-bold pb-3",children:"Payment terms"}),r("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin rhoncus quam dui, et tempor ligula maximus id. Sed arcu purus, sollicitudin ut varius eu, dictum ac erat. In pretium maximus lectus aliquam suscipit. Fusce venenatis sapien odio, non dapibus velit lobortis et. Ut eleifend a nisi nec fringilla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed interdum pretium purus, vitae commodo felis. Pellentesque aliquam massa sit amet orci malesuada elementum. Vestibulum sagittis, velit sit amet facilisis malesuada, augue est gravida mauris, at mattis justo eros sit amet urna. Maecenas et massa lorem. Vivamus iaculis metus ac pretium vehicula."})]})]}),r("div",{className:"w-full flex justify-center pt-20",children:r(j,{className:"bg-blue-500 text-white text-2xl rounded-md shadow",onClick:i,children:e?"LOADING":"ENROLL"})})]})})}function Qe(){const[t,e]=ee(!1);return r(F,{children:[r("div",{className:"w-full flex flex-col gap-9",children:r("div",{className:"w-full self-center bg-white p-5 border rounded-lg border-orange-400",children:r("div",{className:"flex justify-between",children:[r("div",{children:[r("div",{className:"text-xl",children:"Thinking about cancelling?"}),r("div",{className:"text-xl pb-4",children:"Try subscribe-as-you-go"}),r("div",{className:"text-xs underline",children:"(Learn more)"})]}),r("div",{className:"content-center",children:r(j,{className:"text-sm bg-orange-400 text-white rounded shadow",onClick:()=>{e(!0)},children:"ENROLL"})})]})})}),t&&r(Ie,{setShowModal:e,children:r(Je,{setShowModal:e})})]})}function Ze({setStepNumber:t}){return r(F,{children:r("div",{className:"bg-white border-gray-100 p-12",children:[r("div",{className:"text-center pb-5",children:[r("div",{className:"text-3xl",children:"Subscribe for one month, no auto-renew"}),r("div",{children:"To access this article, pay for one month subscription."}),r("div",{children:"Select your plan below:"})]}),r("div",{className:"flex justify-between gap-8",children:[r("div",{className:"flex-1",children:r("div",{className:"mb-4 p-12 border bg-gray-100",children:[r("div",{className:"flex justify-between items-center",children:[r("div",{className:"text-4xl",children:"Standard"}),r("div",{className:"flex gap-2",children:[r("div",{className:"text-4xl",children:"$10"}),r("div",{className:"flex flex-col text-sm",children:[r("div",{children:"per"}),r("div",{children:"month"})]})]})]}),r("div",{className:"py-3",children:r("ul",{children:[r("li",{children:"Feature.."}),r("li",{children:"Feature.."}),r("li",{children:"Feature.."}),r("li",{children:"Feature.."})]})})]})}),r("div",{className:"flex-1",children:r("div",{className:"mb-4 p-12 border bg-gray-100",children:[r("div",{className:"flex justify-between items-center",children:[r("div",{className:"text-4xl",children:"Premium"}),r("div",{className:"flex gap-2",children:[r("div",{className:"text-4xl",children:"$20"}),r("div",{className:"flex flex-col text-sm",children:[r("div",{children:"per"}),r("div",{children:"month"})]})]})]}),r("div",{className:"py-3",children:r("ul",{children:[r("li",{children:"Feature.."}),r("li",{children:"Feature.."}),r("li",{children:"Feature.."}),r("li",{children:"Feature.."})]})})]})})]}),r("div",{className:"w-full flex justify-center pt-10",children:r(j,{className:"bg-orange-400 text-white text-2xl rounded-md shadow",onClick:()=>t(1),children:"NEXT"})})]})})}function et(){return r(F,{children:r("div",{className:"bg-white border-gray-100 p-12",children:[r("div",{className:"text-4xl text-center mb-5",children:"Confirm plan details"}),r("div",{className:"flex justify-between gap-8",children:[r("div",{className:"flex-1",children:[r("div",{className:"mb-4 p-12  bg-gray-100",children:[r("div",{className:"text-2xl pb-3",children:"Plan details"}),r("div",{className:"flex justify-between items-center",children:[r("div",{className:"text-4xl",children:"Standard"}),r("div",{className:"flex gap-2",children:[r("div",{className:"text-4xl",children:"$10"}),r("div",{className:"flex flex-col text-sm",children:[r("div",{children:"per"}),r("div",{children:"month"})]})]})]}),r("div",{className:"py-3",children:r("ul",{children:[r("li",{children:"Feature.."}),r("li",{children:"Feature.."}),r("li",{children:"Feature.."}),r("li",{children:"Feature.."})]})}),r("div",{className:"underline text-center",children:"Modify plan"})]}),r("div",{className:"p-12 bg-gray-100",children:[r("div",{children:"Payment details"}),r("div",{children:"Visa (XXXX)"})]})]}),r("div",{className:"flex-1 p-12 bg-white border-2 border-gray-100",children:[r("div",{className:"font-bold pb-3",children:"Payment terms"}),r("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin rhoncus quam dui, et tempor ligula maximus id. Sed arcu purus, sollicitudin ut varius eu, dictum ac erat. In pretium maximus lectus aliquam suscipit. Fusce venenatis sapien odio, non dapibus velit lobortis et. Ut eleifend a nisi nec fringilla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed interdum pretium purus, vitae commodo felis. Pellentesque aliquam massa sit amet orci malesuada elementum. Vestibulum sagittis, velit sit amet facilisis malesuada, augue est gravida mauris, at mattis justo eros sit amet urna. Maecenas et massa lorem. Vivamus iaculis metus ac pretium vehicula."})]})]}),r("div",{className:"w-full flex justify-center pt-10",children:r(j,{className:"bg-orange-400 text-white text-2xl rounded-md shadow",onClick:async()=>{const{status:t}=await De(window.lightswitch._apiToken);console.log(t),location.reload()},children:"CONFIRM"})})]})})}function tt(){const[t,e]=ee(0),i=[r(Ze,{setStepNumber:e}),r(et,{})][t];return r("div",{style:"z-index: 99;",className:"fixed inset-0 flex justify-center items-center bg-black/20 ",children:r("div",{className:"bg-white rounded-xl shadow p-6 w-3/4 scale-100 opacity-100",children:r("div",{className:"text-center",children:i})})})}const ve="#lightswitch-form",ye="#lightswitch-no-access";class nt{}class it extends nt{constructor(){super(...arguments);ne(this,"_apiToken","")}async init(n,i){const{token:_}=await Fe(n,i);if(!_)return console.log("Bad auth!");this._apiToken=_,i&&this.observerElements()}async identify(n){const{token:i}=await je(this._apiToken,n);if(!i)return console.log("Bad userToken!");this._apiToken=i,this.observerElements()}async checkAccess(n){const{access:i}=await Ae(this._apiToken,{feature_tier:n,test_mode_approve:!1});return!!i}observerElements(){const n={[ve]:{element:null,trigger:"immediately",handler:async()=>{const s=await Le(this._apiToken),l=!!s.subscription?r(Qe,{}):r(ze,{currentUserSubscription:s}),h=document.querySelector(ve);h&&se(l,h)}},[ye]:{element:null,trigger:"immediately",handler:()=>{const s=document.querySelector(ye);s&&se(r(tt,{}),s)}}},i=s=>{const f=document.querySelector(s),l=n[s].element&&f,h=n[s].element&&!f;n[s].element=l?n[s].element:f;const{element:u,handler:v,trigger:N}=n[s];if(u&&!l){if(N==="click"){u.removeEventListener("click",v),u.addEventListener("click",v);return}N==="immediately"&&v()}else h&&console.log(`${s} unmounted`)};let _=!1;const o=()=>{_||(_=!0,Object.keys(n).forEach(s=>{i(s)}),_=!1)};let c=0;const a=new MutationObserver(()=>{clearTimeout(c),c=setTimeout(o,50)}),d={subtree:!0,childList:!0};a.observe(document,d),o()}}window.lightswitch=new it;
